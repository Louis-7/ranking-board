(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{1608:function(e,t,n){Promise.resolve().then(n.bind(n,4553))},4553:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),s=n(2265),a=n(8149),i=n(779);let d=e=>(0,r.jsx)(i.Z,{...e}),o=e=>{let{rankingRecords:t}=e,n={xAxis:{data:t.map(e=>e.receiver)},yAxis:{},series:[{type:"bar",data:t.map(e=>e.points)}]};return(0,r.jsx)(d,{option:n,opts:{renderer:"svg"}})};var u=n(939);function l(){let[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=new u.z;return e.loadEvents().then(()=>{i(!1),t(e.getRankingRecords())}),()=>{}},[]),(0,r.jsx)("div",{className:"md:container lg:mx-auto md:mx-auto sm:mx-auto",children:(0,r.jsx)("div",{children:(0,r.jsx)(a.X,{isLoaded:!n,className:"rounded-lg",children:(0,r.jsx)(o,{rankingRecords:e})})})})}},939:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(9222);class s{async loadEvents(){return r.Z.get(this.dataUrl).then(e=>{this.data=e.data})}getRankingRecords(){if(!this.isLoaded())return[];let e=this.data.ranking,t={};for(let n of e){let e=n.receiver,r=n.points;if(null!=t[e]){let n=t[e];t[e]=n+r}else t[e]=r}let n=[];for(let e in t)n.push({receiver:e,points:t[e]});return n}isLoaded(){return null!=this.data}getTotalEvents(){return this.isLoaded()?this.data.ranking.length:0}getTotalUsers(){if(!this.isLoaded())return 0;let e=this.data.ranking,t={};for(let n of e)null!=t[n.receiver]?t[n.receiver]++:t[n.receiver]=1,null!=t[n.sender]?t[n.sender]++:t[n.sender]=1;return Object.keys(t).length}getTotalPoints(){if(!this.isLoaded())return 0;let e=this.data.ranking;return e.reduce((e,t)=>e+t.points,0)}constructor(){this.dataUrl="https://raw.githubusercontent.com/Louis-7/ranking-board/main/data/ranking.json",this.data={ranking:[]}}}}},function(e){e.O(0,[965,267,779,971,596,744],function(){return e(e.s=1608)}),_N_E=e.O()}]);